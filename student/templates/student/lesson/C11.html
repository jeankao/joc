<h1>(11)數字連乘</h1>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="">08</span> <span class="">02</span> <span class="">22</span> <span class="">97</span> <span class="">38</span> <span class="">15</span> <span class="">00</span> <span class="">40</span> <span class="">00</span> <span class="">75</span> <span class="">04</span> <span class="">05</span> <span class="">07</span> <span class="">78</span> <span class="">52</span> <span class="">12</span> <span class="">50</span> <span class="">77</span> <span class="">91</span> <span class="">08</span>
<span class="">49</span> <span class="">49</span> <span class="">99</span> <span class="">40</span> <span class="">17</span> <span class="">81</span> <span class="">18</span> <span class="">57</span> <span class="">60</span> <span class="">87</span> <span class="">17</span> <span class="">40</span> <span class="">98</span> <span class="">43</span> <span class="">69</span> <span class="">48</span> <span class="">04</span> <span class="">56</span> <span class="">62</span> <span class="">00</span>
<span class="">81</span> <span class="">49</span> <span class="">31</span> <span class="">73</span> <span class="">55</span> <span class="">79</span> <span class="">14</span> <span class="">29</span> <span class="">93</span> <span class="">71</span> <span class="">40</span> <span class="">67</span> <span class="">53</span> <span class="">88</span> <span class="">30</span> <span class="">03</span> <span class="">49</span> <span class="">13</span> <span class="">36</span> <span class="">65</span>
<span class="">52</span> <span class="">70</span> <span class="">95</span> <span class="">23</span> <span class="">04</span> <span class="">60</span> <span class="">11</span> <span class="">42</span> <span class="">69</span> <span class="">24</span> <span class="">68</span> <span class="">56</span> <span class="">01</span> <span class="">32</span> <span class="">56</span> <span class="">71</span> <span class="">37</span> <span class="">02</span> <span class="">36</span> <span class="">91</span>
<span class="">22</span> <span class="">31</span> <span class="">16</span> <span class="">71</span> <span class="">51</span> <span class="">67</span> <span class="">63</span> <span class="">89</span> <span class="">41</span> <span class="">92</span> <span class="">36</span> <span class="">54</span> <span class="">22</span> <span class="">40</span> <span class="">40</span> <span class="">28</span> <span class="">66</span> <span class="">33</span> <span class="">13</span> <span class="">80</span>
<span class="">24</span> <span class="">47</span> <span class="">32</span> <span class="">60</span> <span class="">99</span> <span class="">03</span> <span class="">45</span> <span class="">02</span> <span class="">44</span> <span class="">75</span> <span class="">33</span> <span class="">53</span> <span class="">78</span> <span class="">36</span> <span class="">84</span> <span class="">20</span> <span class="">35</span> <span class="">17</span> <span class="">12</span> <span class="">50</span>
<span class="">32</span> <span class="">98</span> <span class="">81</span> <span class="">28</span> <span class="">64</span> <span class="">23</span> <span class="">67</span> <span class="">10</span> <span class=""><font color=red>26</font></span> <span class="">38</span> <span class="">40</span> <span class="">67</span> <span class="">59</span> <span class="">54</span> <span class="">70</span> <span class="">66</span> <span class="">18</span> <span class="">38</span> <span class="">64</span> <span class="">70</span>
<span class="">67</span> <span class="">26</span> <span class="">20</span> <span class="">68</span> <span class="">02</span> <span class="">62</span> <span class="">12</span> <span class="">20</span> <span class="">95</span> <span class=""><font color=red>63</font></span> <span class="">94</span> <span class="">39</span> <span class="">63</span> <span class="">08</span> <span class="">40</span> <span class="">91</span> <span class="">66</span> <span class="">49</span> <span class="">94</span> <span class="">21</span>
<span class="">24</span> <span class="">55</span> <span class="">58</span> <span class="">05</span> <span class="">66</span> <span class="">73</span> <span class="">99</span> <span class="">26</span> <span class="">97</span> <span class="">17</span> <span class=""><font color=red>78</font></span> <span class="">78</span> <span class="">96</span> <span class="">83</span> <span class="">14</span> <span class="">88</span> <span class="">34</span> <span class="">89</span> <span class="">63</span> <span class="">72</span>
<span class="">21</span> <span class="">36</span> <span class="">23</span> <span class="">09</span> <span class="">75</span> <span class="">00</span> <span class="">76</span> <span class="">44</span> <span class="">20</span> <span class="">45</span> <span class="">35</span> <span class=""><font color=red>14</font></span> <span class="">00</span> <span class="">61</span> <span class="">33</span> <span class="">97</span> <span class="">34</span> <span class="">31</span> <span class="">33</span> <span class="">95</span>
<span class="">78</span> <span class="">17</span> <span class="">53</span> <span class="">28</span> <span class="">22</span> <span class="">75</span> <span class="">31</span> <span class="">67</span> <span class="">15</span> <span class="">94</span> <span class="">03</span> <span class="">80</span> <span class="">04</span> <span class="">62</span> <span class="">16</span> <span class="">14</span> <span class="">09</span> <span class="">53</span> <span class="">56</span> <span class="">92</span>
<span class="">16</span> <span class="">39</span> <span class="">05</span> <span class="">42</span> <span class="">96</span> <span class="">35</span> <span class="">31</span> <span class="">47</span> <span class="">55</span> <span class="">58</span> <span class="">88</span> <span class="">24</span> <span class="">00</span> <span class="">17</span> <span class="">54</span> <span class="">24</span> <span class="">36</span> <span class="">29</span> <span class="">85</span> <span class="">57</span>
<span class="">86</span> <span class="">56</span> <span class="">00</span> <span class="">48</span> <span class="">35</span> <span class="">71</span> <span class="">89</span> <span class="">07</span> <span class="">05</span> <span class="">44</span> <span class="">44</span> <span class="">37</span> <span class="">44</span> <span class="">60</span> <span class="">21</span> <span class="">58</span> <span class="">51</span> <span class="">54</span> <span class="">17</span> <span class="">58</span>
<span class="">19</span> <span class="">80</span> <span class="">81</span> <span class="">68</span> <span class="">05</span> <span class="">94</span> <span class="">47</span> <span class="">69</span> <span class="">28</span> <span class="">73</span> <span class="">92</span> <span class="">13</span> <span class="">86</span> <span class="">52</span> <span class="">17</span> <span class="">77</span> <span class="">04</span> <span class="">89</span> <span class="">55</span> <span class="">40</span>
<span class="">04</span> <span class="">52</span> <span class="">08</span> <span class="">83</span> <span class="">97</span> <span class="">35</span> <span class="">99</span> <span class="">16</span> <span class="">07</span> <span class="">97</span> <span class="">57</span> <span class="">32</span> <span class="">16</span> <span class="">26</span> <span class="">26</span> <span class="">79</span> <span class="">33</span> <span class="">27</span> <span class="">98</span> <span class="">66</span>
<span class="">88</span> <span class="">36</span> <span class="">68</span> <span class="">87</span> <span class="">57</span> <span class="">62</span> <span class="">20</span> <span class="">72</span> <span class="">03</span> <span class="">46</span> <span class="">33</span> <span class="">67</span> <span class="">46</span> <span class="">55</span> <span class="">12</span> <span class="">32</span> <span class="">63</span> <span class="">93</span> <span class="">53</span> <span class="">69</span>
<span class="">04</span> <span class="">42</span> <span class="">16</span> <span class="">73</span> <span class="">38</span> <span class="">25</span> <span class="">39</span> <span class="">11</span> <span class="">24</span> <span class="">94</span> <span class="">72</span> <span class="">18</span> <span class="">08</span> <span class="">46</span> <span class="">29</span> <span class="">32</span> <span class="">40</span> <span class="">62</span> <span class="">76</span> <span class="">36</span>
<span class="">20</span> <span class="">69</span> <span class="">36</span> <span class="">41</span> <span class="">72</span> <span class="">30</span> <span class="">23</span> <span class="">88</span> <span class="">34</span> <span class="">62</span> <span class="">99</span> <span class="">69</span> <span class="">82</span> <span class="">67</span> <span class="">59</span> <span class="">85</span> <span class="">74</span> <span class="">04</span> <span class="">36</span> <span class="">16</span>
<span class="">20</span> <span class="">73</span> <span class="">35</span> <span class="">29</span> <span class="">78</span> <span class="">31</span> <span class="">90</span> <span class="">01</span> <span class="">74</span> <span class="">31</span> <span class="">49</span> <span class="">71</span> <span class="">48</span> <span class="">86</span> <span class="">81</span> <span class="">16</span> <span class="">23</span> <span class="">57</span> <span class="">05</span> <span class="">54</span>
<span class="">01</span> <span class="">70</span> <span class="">54</span> <span class="">71</span> <span class="">83</span> <span class="">51</span> <span class="">54</span> <span class="">69</span> <span class="">16</span> <span class="">92</span> <span class="">33</span> <span class="">48</span> <span class="">61</span> <span class="">43</span> <span class="">52</span> <span class="">01</span> <span class="">89</span> <span class="">19</span> <span class="">67</span> <span class="">48</span>
</pre></div>
</div>
<p>在上面20*20方陣中，包含橫列、縱列、對角線左斜列、右斜列，四個方向，任何連續四個數字相乘，例如紅字的四個數相乘26 × 63 × 78 × 14 結果是1788696。</p>
<p>【最後目標】</p>
<p>尋找這樣的連續四個數，求相乘最大的結果。</p>
<p><a href="/static/files/euler/numbers2.txt">下載檔案</a></p>
<p>練習1：從檔案讀取數字串，求橫列連續四個數字相乘最大值。</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: UTF-8 -*-</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># 打開檔案</span>
<span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;d:/numbers2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

<span class="c1"># 讀取檔案</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>    <span class="c1">#依序讀取每行</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>    <span class="c1">#去掉每行頭尾空白</span>
    <span class="n">number_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="n">number_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">number</span><span class="p">))</span>
    <span class="n">numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">number_list</span><span class="p">)</span>

<span class="c1"># 關閉檔案</span>
<span class="nb">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="nb">max</span> <span class="o">=</span> <span class="">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="">0</span><span class="p">,</span> <span class="">20</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="">0</span><span class="p">,</span> <span class="">17</span><span class="p">):</span>
        <span class="n">mul</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">1</span><span class="p">]</span><span class="o">*</span><span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">2</span><span class="p">]</span><span class="o">*</span><span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">3</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">max</span> <span class="o">&lt;</span> <span class="n">mul</span><span class="p">:</span>
            <span class="nb">max</span> <span class="o">=</span> <span class="n">mul</span>
<span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<BR>
<p>練習2：求對角線數字乘積。</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[[</span> <span class="">8</span><span class="p">,</span>  <span class="">2</span><span class="p">,</span> <span class="">22</span><span class="p">,</span> <span class="">97</span><span class="p">,</span> <span class="">67</span><span class="p">,</span> <span class="">10</span><span class="p">],</span>
           <span class="p">[</span><span class="">81</span><span class="p">,</span> <span class="">49</span><span class="p">,</span> <span class="">31</span><span class="p">,</span> <span class="">73</span><span class="p">,</span> <span class="">49</span><span class="p">,</span> <span class="">20</span><span class="p">],</span>
           <span class="p">[</span><span class="">71</span><span class="p">,</span> <span class="">40</span><span class="p">,</span> <span class="">67</span><span class="p">,</span> <span class="">53</span><span class="p">,</span> <span class="">30</span><span class="p">,</span> <span class="">29</span><span class="p">],</span>
           <span class="p">[</span><span class="">17</span><span class="p">,</span> <span class="">54</span><span class="p">,</span> <span class="">24</span><span class="p">,</span> <span class="">36</span><span class="p">,</span> <span class="">16</span><span class="p">,</span> <span class="">54</span><span class="p">],</span>
           <span class="p">[</span> <span class="">1</span><span class="p">,</span> <span class="">70</span><span class="p">,</span> <span class="">54</span><span class="p">,</span> <span class="">71</span><span class="p">,</span> <span class="">83</span><span class="p">,</span> <span class="">51</span><span class="p">],</span>
           <span class="p">[</span><span class="">33</span><span class="p">,</span> <span class="">48</span><span class="p">,</span> <span class="">61</span><span class="p">,</span> <span class="">43</span><span class="p">,</span> <span class="">52</span><span class="p">,</span>  <span class="">1</span><span class="p">]]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="">2</span><span class="p">):</span>
        <span class="n">mul</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">numbers</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="">2</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">numbers</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="">3</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="">3</span><span class="p">]</span>
        <span class="k">print</span><span class="p">(</span><span class="n">mul</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
